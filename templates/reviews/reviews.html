{% extends "index.html" %}

{% block styles %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/reviews.css') }}">
{% endblock %}

{% block section %}
<div class="product_container">
    <aside class="side-bar">
        <ul>
            <li><a href="#">디지털 악세사리</a></li>
            <li><a href="#">패션 악세사리</a></li>
            <li><a href="#">테이블웨어</a></li>
            <li><a href="#">스테이셔너리</a></li>
        </ul>
    </aside>

    <main>
        <section id="head">
            <p class="title">전체 리뷰 조회</p>
            <div class="array">
                <button class="review" data-value="review">리뷰 많은 순</button>
                <button class="rate" data-value="rate">높은 평점 순</button>
                <button class="recent" data-value="recent">최신순</button>
            </div>
        </section>

        {% if total > 0 %}
        <p class="reg-num">현재까지 {{ total }}개 리뷰 등록됨</p>
        <table>
            <tr>
                {% for review in row1 %}
                <td onclick="location.href='{{ url_for('reviews.view_review_detail', productName=review['product'], review_id=review['review_id']) }}';" style="cursor:pointer;">
                    <div class="layer">
                        <div class="product-item">
                            <div class="product-image">
                                <img src="{{ url_for('static', filename='images/' + review['reviewImage']) }}" width="140" height="200" />
                            </div>
                            <div class="product-title">{{ review['product'] }}</div>
                        </div>
                        <div class="description">
                            <div class="grade">★★★★★ {{ review['rate'] }}</div>
                            <div class="des-title">{{ review['title'] }}</div>
                            <div>{{ review['content'] }}</div>
                        </div>
                    </div>
                </td>
                {% endfor %}
            </tr>

            <tr>
                {% for review in row2 %}
                <td onclick="location.href='{{ url_for('reviews.view_review_detail', productName=review['product'], review_id=review['review_id']) }}';" style="cursor:pointer;">
                    <div class="layer">
                        <div class="product-item">
                            <div class="product-image">
                                <img src="{{ url_for('static', filename='images/' + review['reviewImage']) }}" width="140" height="200" />
                            </div>
                            <div class="product-title">{{ review['product'] }}</div>
                        </div>
                        <div class="description">
                            <div class="grade">★★★★★ {{ review['rate'] }}</div>
                            <div class="des-title">{{ review['title'] }}</div>
                            <div>{{ review['content'] }}</div>
                        </div>
                    </div>
                </td>
                {% endfor %}
            </tr>
        </table>

        <div class="page-wrap">
            <div class="page-nation">
                <ul class="pagination">
                    {% for i in range(page_count) %}
                    <li>
                        <a href="{{ url_for('reviews.view_reviews', page=i) }}" style="color:black;">{{ i + 1 }}</a>
                    </li>
                    {% endfor %}
                </ul>
            </div>
        </div>
        {% else %}
        <p>등록된 리뷰가 없습니다.</p>
        {% endif %}
    </main>
</div>
{% endblock %}
